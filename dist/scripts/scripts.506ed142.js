"use strict";angular.module("rkisApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.router"]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/"),a.state("main",{url:"/",templateUrl:"views/main.html",controller:"MainCtrl"}).state("edituser",{url:"edituser/{id}",templateUrl:"views/edituser.html",controller:"EdituserCtrl",parent:"main"}).state("editcampaign",{url:"editcampaign/{id}",templateUrl:"views/editcampaign.html",controller:"EditcampaignCtrl",parent:"main"}).state("editmeetingplace",{url:"editmeetingplace/{id}",templateUrl:"views/editmeetingplace.html",controller:"EditmeetingplaceCtrl",parent:"main"}).state("about",{url:"about",templateUrl:"views/about.html",controller:"AboutCtrl",parent:"main"}).state("search",{url:"search",templateUrl:"views/search.html",controller:"SearchCtrl",parent:"main"}).state("user",{url:"user",templateUrl:"views/user.html",controller:"UserCtrl",parent:"main"}).state("campaign",{url:"campaign",templateUrl:"views/campaign.html",controller:"CampaignCtrl",parent:"main"}).state("meetingplace",{url:"meetingplace",templateUrl:"views/meetingplace.html",controller:"MeetingplaceCtrl",parent:"main"}).state("createuser",{url:"createuser",templateUrl:"views/createuser.html",controller:"CreateuserCtrl",parent:"main"}).state("createcampaign",{url:"createcampaign",templateUrl:"views/createcampaign.html",controller:"CreatecampaignCtrl",parent:"main"}).state("createmeetingplace",{url:"createmeetingplace",templateUrl:"views/createmeetingplace.html",controller:"CreatemeetingplaceCtrl",parent:"main"})}]).run(["translate",function(a){a.init()}]),angular.module("rkisApp").controller("MainCtrl",["$scope","$state",function(a,b){b.go("search")}]),angular.module("rkisApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("rkisApp").controller("SearchCtrl",["$scope","Users","MessagesUtil",function(a,b){function c(){function c(b){a.searchResult=b}function d(){}function e(){}0!=a.searchInput.length?b.getUsers().then(c,d,e):(a.searchResult=void 0,a.manuelSearchState=!1)}function d(){a.manuelSearchState=!0}a.search=c,a.manuelSearch=d,a.manuelSearchState=!1,a.searchResult,a.searchInput}]),angular.module("rkisApp").controller("UserCtrl",["$scope","Users",function(a,b){function c(){function c(b){a.data=b}function d(){}function e(){}b.getUsers().then(c,d,e)}a.data=[],c()}]),angular.module("rkisApp").controller("CampaignCtrl",["$scope","Campaigns",function(a,b){function c(){d()}function d(){function c(b){a.data=b}function d(){}function e(){}b.getCampaigns().then(c,d,e)}a.getCampaigns=d,a.data,c()}]),angular.module("rkisApp").controller("MeetingplaceCtrl",["$scope","Meetingplaces",function(a,b){function c(){d()}function d(){function c(b){a.data=b}function d(){}function e(){}b.getMeetingplaces().then(c,d,e)}a.getMeetingplaces=d,a.data,c()}]),angular.module("rkisApp").controller("CreateuserCtrl",["$scope","Campaigns","Users","Meetingplaces","MessagesUtil",function(a,b,c,d,e){function f(){function c(b){a.campaignData=b}function d(){}function e(){}b.getCampaigns().then(c,d,e)}function g(b,c){a.campaignInput=c,a.campaignData=[]}function h(){function b(b){a.meetingplaceData=b}function c(){}function e(){}d.getMeetingplaces().then(b,c,e)}function i(b,c){a.meetingplaceInput=c,a.meetingplaceData=[]}function j(){function b(){e.create("Indsamleren er blevet oprettet"),$state.go("search")}function d(){}function f(){}var g={firstname:a.firstnameInput,lastname:a.lastnameInput,address:a.addressInput,phonenumber:a.phonenumberInput,email:a.emailInput,collectingcans:a.collectingcansInput,campaign:a.campaignInput,meetingplace:a.meetingplaceInput};c.createUser(g).then(b,d,f)}a.campaignInput,a.campaignData,a.meetingplaceData,a.meetingplaceInput,a.onChangeCampaign=f,a.onClickCampaign=g,a.onCreate=j,a.onChangeMeetingplace=h,a.onClickMeetingplace=i}]),angular.module("rkisApp").controller("CreatecampaignCtrl",["$scope","Campaigns","MessagesUtil",function(a,b,c){function d(){function d(){c.create("Kampagnen er blevet oprettet")}function e(){}function f(){}var g={name:a.campaignInput};b.addCampaign(g).then(d,e,f)}a.onCreate=d,a.campaignInput}]),angular.module("rkisApp").controller("CreatemeetingplaceCtrl",["$scope","Meetingplaces","MessagesUtil",function(a,b,c){function d(){function d(){c.create("Mødestedet er blevet oprettet")}function e(){}function f(){}var g={name:a.campaignInput};b.addMeetingplace(g).then(d,e,f)}a.onCreate=d,a.nameInput}]),angular.module("rkisApp").factory("translate",["$rootScope",function(a){function b(){a.translate={utilLogout:"Log ud",search:"Søg",allUsers:"Alle indsamlere",createUser:"Tilmeld bruger",allCampaigns:"Alle kampagner",createCampagin:"Timeld kampagne",allMeetingplace:"Alle mødesteder",createMeetingplace:"Timeld mødested"}}var c={init:b};return c}]),angular.module("rkisApp").directive("colors",function(){return{restrict:"EA",templateUrl:"../../views/colors.html",link:function(){}}}),angular.module("rkisApp").factory("Users",["$q","API",function(a){function b(){var b=a.defer();return b.resolve(e.users),b.promise}function c(b){var c=a.defer();return e.users[Object.keys(e.users).length]={firstname:b.firstname,lastname:b.lastname,address:b.address,phonenumber:b.phonenumber,email:b.email,meetingplace:b.meetingplace,campaign:b.campaign,collectioncans:0},console.log(e.users),c.resolve(e.users),c.promise}function d(b){var c=a.defer();return c.resolve(e.users[b]),c.promise}var e={getUsers:b,createUser:c,getUser:d,users:{0:{id:0,firstname:"Tommy",lastname:"Jepsen",address:"Bakekvej 1, 3. 306",phonenumber:"60117793",email:"tommy@tommyjepsen.com",meetingplace:"Amager",campaign:"CPH",collectioncans:0},1:{id:1,firstname:"Niels",lastname:"Poulsen",address:"Jensengade 5",phonenumber:"55117755",email:"niels@gmail.com",meetingplace:"Amager",campaign:"CPH",collectioncans:0},2:{id:2,firstname:"Jakob",lastname:"Fransen",address:"Søndermarken 4",phonenumber:"11117793",email:"jakoooob123@gmail.com",meetingplace:"Amager",campaign:"CPH",collectioncans:0},3:{id:3,firstname:"Jonas",lastname:"Thomsen",address:"Poulalle 6",phonenumber:"44117793",email:"thomsenjonas@gmail.com",meetingplace:"Amager",campaign:"Nybeboer",collectioncans:0}}};return e}]),angular.module("rkisApp").factory("Campaigns",["$q","API",function(a){function b(){var b=a.defer();return b.resolve(f.campaigns),b.promise}function c(b){var c=a.defer();return f.campaigns[Object.keys(f.campaigns).length]={id:Object.keys(f.campaigns).length+1,name:b.name},c.resolve(f.campaigns),c.promise}function d(b){var c=a.defer();return c.resolve(f.campaigns[b]),c.promise}function e(b){var c=a.defer();return f.campaigns[b.id].name=b.name,c.resolve("success"),c.promise}var f={getCampaigns:b,addCampaign:c,getCampaign:d,editCampaign:e,campaigns:{0:{id:"0",name:"Russerne på KU"},1:{id:"1",name:"Tyskerne"},2:{id:"2",name:"Steven Seagal"},3:{id:"3",name:"Nye beboer"}}};return f}]),angular.module("rkisApp").factory("Meetingplaces",["$q","API",function(a){function b(){var b=a.defer();return b.resolve(f.meetingplaces),b.promise}function c(b){var c=a.defer();return f.meetingplaces[Object.keys(f.meetingplaces).length]={id:Object.keys(f.meetingplaces).length+1,name:b.name},c.resolve(f.campaigns),c.promise}function d(b){var c=a.defer();return c.resolve(f.meetingplaces[b]),c.promise}function e(b){var c=a.defer();return f.meetingplaces[b.id].name=b.name,c.resolve("success"),c.promise}var f={getMeetingplaces:b,addMeetingplace:c,getMeetingplace:d,editMeetingplace:e,meetingplaces:{0:{id:"0",name:"Nordvest"},1:{id:"1",name:"Amager"},2:{id:"2",name:"Østerbro"},3:{id:"3",name:"Nørrebro"}}};return f}]),angular.module("rkisApp").factory("MessagesUtil",["$q","$rootScope",function(a,b){function c(a){b.messageFire=!0,b.message=a}var d={create:c};return d}]),angular.module("rkisApp").constant("API",{root:"http://rkis.dk/api/"}),angular.module("rkisApp").directive("popdown",function(){return{templateUrl:"../../views/popdown.html",restrict:"E",scope:{data:"="},link:function(){}}}),angular.module("rkisApp").controller("EdituserCtrl",["$scope","Users","$stateParams","$state",function(a,b,c,d){function e(){return void 0==c.id?void d.go("search"):void f(c.id)}function f(c){function d(b){a.firstnameInput=b.firstname,a.lastnameInput=b.lastname,a.addressInput=b.address,a.phonenumberInput=b.phonenumber,a.emailInput=b.email,a.collectingcansInput=b.collectingcans,a.campaignInput=b.campaign,a.meetingplaceInput=b.meetingplace,MessagesUtil.create("Indsamleren er blevet opdateret")}function e(){}function f(){}b.getUser(c).then(d,e,f)}a.firstnameInput,a.lastnameInput,a.addressInput,a.phonenumberInput,a.emailInput,a.collectingcansInput,a.campaignInput,a.meetingplaceInput,a.getUser=f,e()}]),angular.module("rkisApp").controller("EditcampaignCtrl",["$scope","Campaigns","$stateParams","$state",function(a,b,c,d){function e(c){function e(b){g=b,console.log(b),console.log(g),a.nameInput=b.name}function f(){d.go("search")}function h(){}b.getCampaign(c).then(e,f,h)}function f(){function c(){MessagesUtil.create("Kampagnen er blevet opdateret")}function e(){d.go("search")}function f(){}var h={id:g.id,name:a.nameInput};b.editCampaign(h).then(c,e,f)}a.getCampaign=e,a.onCreate=f;var g;a.nameInput,e(c.id)}]),angular.module("rkisApp").controller("EditmeetingplaceCtrl",["$scope","$stateParams","Meetingplaces",function(a,b,c){function d(b){function d(b){f=b,a.nameInput=b.name}function e(){$state.go("search")}function g(){}c.getMeetingplace(b).then(d,e,g)}function e(){function b(){MessagesUtil.create("Mødestedet er blevet opdateret")}function d(){$state.go("search")}function e(){}var g={id:f.id,name:a.nameInput};c.editMeetingplace(g).then(b,d,e)}a.getMeetingplace=d,a.onCreate=e;var f;a.nameInput,d(b.id)}]),angular.module("rkisApp").directive("messages",["$rootScope","$timeout",function(a,b){return{templateUrl:"../../views/messages.html",restrict:"E",link:function(c){c.message="",c.fire=!1;a.$watch("messageFire",function(d){d&&(c.fire=!0,c.message=a.message,b(function(){c.fire=!1,delete a.messageFire,delete a.message},2500))})}}}]);